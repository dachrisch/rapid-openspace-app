{% extends "bootstrap/base.html" %}

{% block styles %}
<link href='/static/css/bootstrap.min.css' rel="stylesheet">
<link href='/static/css/main.min.css' rel="stylesheet">
<link href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css" rel="stylesheet">
{% endblock styles %}


{% block content %}
<!-- Header -->
<header id="header">
    <h1><span style="color:#ebc252">b</span><span style="color:black">umbleflies</span></h1>
</header>
<!-- Main -->
<main id="main">
    <div class="intro">
        <h3>Willkommen zum Open Space <i>{{rapidos.name}}</i></h3>

    </div>

    <div class="grid">
        <h3>Marktplatz</h3>
        <ul>
            <li>Start: {{ rapidos.start }}</li>
            <li>Sessionlänge: {{ rapidos.duration }}</li>
            <li>Sessions: {{ rapidos.sessions }}</li>
        </ul>


        <table
                id="marketplace"
                data-uuid="{{ rapidos.id }}"
                data-toggle="table"
                data-ajax="ajaxRequest">
            <thead>
            <tr>
                <th data-field="id">ID</th>
                <th data-field="name">Item Name</th>
            </tr>
            </thead>
        </table>
    </div>

</main>

<!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <ul class="list-inline ">
                <li class="list-inline-item">
                    <a href="https://bumbleflies.de">&copy; bumbleflies UG (haftungsbeschränkt) 2021</a>
                    <p class="text-muted small"></p>
                </li>
                <li class="list-inline-item">⋅</li>
                <li class="list-inline-item">
                    <a href="mailto:info@bumbleflies.de">Contact</a>
                </li>
                <li class="list-inline-item">⋅</li>
                <li class="list-inline-item">
                    <a href="https://bumbleflies.de/impressum">Impressum</a>
                </li>
            </ul>
        </div>
    </div>
</footer>

{% endblock content %}

{% block scripts %}
<script src="{{bootstrap_find_resource('jquery.js', cdn='jquery')}}"></script>
<script src="{{bootstrap_find_resource('js/bootstrap.js', cdn='bootstrap')}}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.js"></script>
<script>
  function ajaxRequest(params) {
    let uuid = $('#marketplace').attr('data-uuid')
    var url = `/api/rapidos/${uuid}`
    $.get(url).then(function (res) {
      params.success([res,])
    })
  }

</script>
{%- endblock scripts %}

